---
import Base from "../../../layouts/Base.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  return [
    { params: { section: "live" } },
    { params: { section: "work" } },
    { params: { section: "play" } },
    { params: { section: "best" } },
  ];
}

const { section } = Astro.params;

const guide = (await getCollection("guides", (g) =>
  g.data.city === "daytona" && g.data.section === section
))[0];

const rendered = guide ? await guide.render() : null;
---

<Base
  title={`${guide?.data.title ?? section} | GoDoDaytona`}
  subtitle={guide?.data.description ?? "GoDo guides"}
  cityBase="daytona"
>
  <section class="section">
    <div class="container">
      <div class="card card-pad">
        <div class="kicker">Guide</div>
        <h1 style="margin:10px 0 10px;font-size:34px">{guide?.data.title ?? "Guide"}</h1>

        {rendered ? <rendered.Content /> : (
          <p class="lede">No guide yet. Add one in <code>src/content/guides/daytona</code>.</p>
        )}
      </div>
    </div>
  </section>
</Base>

---
// Content renderer
import { Content } from "astro:content";
